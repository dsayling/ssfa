version: 2.1

executors:
  existing:
    machine:
      image: ubuntu-2004:202010-01
  canary:
    machine:
      image: ubuntu-2004:canary


jobs:
  sample:
    parameters:
      os:
        type: executor
    executor: << parameters.os >>
    steps:
      - run: |
          set -x
          python3 --version
          python3 -c 'import lzma; print(dir(lzma))'

workflows:
  sample_wf:
    jobs:
      - sample:
          matrix:
              parameters:
                os: [existing, canary]
